<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-troubleshooting/harvester" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Harvester | Harvester</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.harvesterhci.io/v1.4/troubleshooting/harvester"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Harvester | Harvester"><meta data-rh="true" name="description" content="Fail to Deploy a Multi-node Cluster Due to Incorrect HTTP Proxy Setting"><meta data-rh="true" property="og:description" content="Fail to Deploy a Multi-node Cluster Due to Incorrect HTTP Proxy Setting"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://docs.harvesterhci.io/v1.4/troubleshooting/harvester" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.harvesterhci.io/v1.4/troubleshooting/harvester" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U7QCSJFCWR-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://docs.harvesterhci.io/v1.1/troubleshooting/harvester"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Harvester" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5e59b31b.css">
<link rel="preload" href="/assets/js/runtime~main.9d6f4b81.js" as="script">
<link rel="preload" href="/assets/js/main.c864e231.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_horizontal.svg" alt="Harvester Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_horizontal.svg" alt="Harvester Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/v1.4/">v1.4 (dev)</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v1.4/troubleshooting/harvester">v1.4 (dev)</a></li><li><a class="dropdown__link" href="/v1.3/troubleshooting/harvester">v1.3 (latest)</a></li><li><a class="dropdown__link" href="/v1.2/troubleshooting/harvester">v1.2</a></li><li><a class="dropdown__link" href="/v1.1/troubleshooting/harvester">v1.1 (EOL)</a></li><li><a class="dropdown__link" href="/v1.0/troubleshooting/harvester">v1.0 (EOL)</a></li><li><a class="dropdown__link" href="/v0.3/troubleshooting/harvester">v0.3 (EOL)</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/v1.4/">API</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/v1.4/troubleshooting/harvester" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://harvesterhci.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Harvester Home<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/harvester/harvester" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/harvester/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io/kb" target="_blank" rel="noopener noreferrer" class="dropdown__link">Knowledge Base<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.suse.com/c/?s=harvester" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancherdesktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/">Harvester Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/getting-started">Getting Started (High-Availability Clusters)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/install/requirements">Installation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/airgap">Air Gapped Environment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/upgrade/index">Upgrade</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/upload-image">Upload Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/host/">Host Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/vm/index">VM Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/volume/index">Volume Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/networking/index">Networking</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/logging/harvester-logging">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/monitoring/harvester-monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/advanced/index">Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/rancher/rancher-integration">Rancher Integration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/terraform/terraform-provider">Harvester Terraform Provider</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/v1.4/troubleshooting/index">Troubleshooting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1.4/troubleshooting/index">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v1.4/troubleshooting/harvester">Harvester</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1.4/troubleshooting/os">Operating System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1.4/troubleshooting/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1.4/troubleshooting/vm">VM</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/developer/developer-mode-installation">Developer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.4/api/harvester-apis">api</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.4/glossary">Glossary</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_xLCN"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <b>Harvester</b> <b>v1.4 (dev)</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/v1.3/troubleshooting/harvester">latest version</a></b> (<!-- -->v1.3 (latest)<!-- -->).</div></div><div class="docItemContainer_jfFK"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Troubleshooting</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Harvester</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.4 (dev)</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Harvester</h1></header><div class="row"><div class="col col--12"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fail-to-deploy-a-multi-node-cluster-due-to-incorrect-http-proxy-setting">Fail to Deploy a Multi-node Cluster Due to Incorrect HTTP Proxy Setting<a href="#fail-to-deploy-a-multi-node-cluster-due-to-incorrect-http-proxy-setting" class="hash-link" aria-label="Direct link to Fail to Deploy a Multi-node Cluster Due to Incorrect HTTP Proxy Setting" title="Direct link to Fail to Deploy a Multi-node Cluster Due to Incorrect HTTP Proxy Setting">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iso-installation-without-a-harvester-configuration-file">ISO Installation Without a Harvester Configuration File<a href="#iso-installation-without-a-harvester-configuration-file" class="hash-link" aria-label="Direct link to ISO Installation Without a Harvester Configuration File" title="Direct link to ISO Installation Without a Harvester Configuration File">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-http-proxy-during-harvester-installation">Configure HTTP Proxy During Harvester Installation<a href="#configure-http-proxy-during-harvester-installation" class="hash-link" aria-label="Direct link to Configure HTTP Proxy During Harvester Installation" title="Direct link to Configure HTTP Proxy During Harvester Installation">​</a></h4><p>In some environments, you configure <a href="/v1.4/airgap#configure-an-http-proxy-during-installation">http-proxy</a> of <a href="/v1.4/install/harvester-configuration#osenvironment">OS Environment</a> during Harvester installation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-http-proxy-after-first-node-is-ready">Configure HTTP Proxy After First Node is Ready<a href="#configure-http-proxy-after-first-node-is-ready" class="hash-link" aria-label="Direct link to Configure HTTP Proxy After First Node is Ready" title="Direct link to Configure HTTP Proxy After First Node is Ready">​</a></h4><p>After the first node is installed successfully, you login into the <code>Harvester GUI</code> to configure <a href="/v1.4/airgap#configure-an-http-proxy-in-harvester-settings">http-proxy</a> of <a href="/v1.4/install/harvester-configuration#system_settings">Harvester System Settings</a>.</p><p>Then you continue to add more nodes to the cluster.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="one-node-becomes-unavailable">One Node Becomes Unavailable<a href="#one-node-becomes-unavailable" class="hash-link" aria-label="Direct link to One Node Becomes Unavailable" title="Direct link to One Node Becomes Unavailable">​</a></h4><p>The issue you may encounter:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">The first node is installed successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The second node is installed successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The third node is installed successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Then the second node changes to Unavialable state and cannot recover automatically.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="solution">Solution<a href="#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">​</a></h4><p>When the nodes in the cluster do not use the HTTP Proxy to communicate with each other, after the first node is installed successfully, you need to configure <a href="/v1.4/airgap#configure-an-http-proxy-in-harvester-settings">http-proxy.noProxy</a> against the CIDR used by those nodes.</p><p>For example, your cluster assigns IPs from CIDR <code>172.26.50.128/27</code> to nodes via DHCP/static setting, please add this CIDR to <code>noProxy</code>.</p><p>After setting this, you can continue to add new nodes to the cluster.</p><p>For more details, please refer to <a href="https://github.com/harvester/harvester/issues/3091" target="_blank" rel="noopener noreferrer">Harvester issue 3091</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iso-installation-with-a-harvester-configuration-file">ISO Installation With a Harvester Configuration File<a href="#iso-installation-with-a-harvester-configuration-file" class="hash-link" aria-label="Direct link to ISO Installation With a Harvester Configuration File" title="Direct link to ISO Installation With a Harvester Configuration File">​</a></h3><p>When a Harvester configuration file is used in ISO installation, please configure proper <code>http-proxy</code> in <a href="/v1.4/install/harvester-configuration#system_settings">Harvester System Settings</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pxe-boot-installation">PXE Boot Installation<a href="#pxe-boot-installation" class="hash-link" aria-label="Direct link to PXE Boot Installation" title="Direct link to PXE Boot Installation">​</a></h3><p>When <a href="/v1.4/install/pxe-boot-install">PXE Boot Installation</a> is adopted, please configure proper <code>http-proxy</code> in <a href="/v1.4/install/harvester-configuration#osenvironment">OS Environment</a> and <a href="/v1.4/install/harvester-configuration#system_settings">Harvester System Settings</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="generate-a-support-bundle">Generate a Support Bundle<a href="#generate-a-support-bundle" class="hash-link" aria-label="Direct link to Generate a Support Bundle" title="Direct link to Generate a Support Bundle">​</a></h2><p>Users can generate a support bundle in the Harvester GUI with the following steps:</p><ul><li><p>Click the <code>Support</code> link at the bottom-left of Harvester Web UI.
<img loading="lazy" src="/assets/images/harvester-sb-support-link-37d8e3a1cf4a0db290c41adeea228f3a.png" width="955" height="902" class="img_ev3q"></p></li><li><p>Click <code>Generate Support Bundle</code> button.
<img loading="lazy" src="/assets/images/harvester-sb-support-button-481867fa7c7e1284b77c3a328cdc06ba.png" width="953" height="286" class="img_ev3q"></p></li><li><p>Enter a useful description for the support bundle and click <code>Create</code> to generate and download a support bundle.
<img loading="lazy" src="/assets/images/harvester-sb-support-modal-2926ec28f3190a25f618cedfe7975687.png" width="941" height="436" class="img_ev3q"></p></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Whenever you encounter an issue that may be related to workloads deployed in custom namespaces, configure the <a href="/v1.4/advanced/index#support-bundle-namespaces">support-bundle-namespaces</a> setting to include those namespaces as data sources. The support bundle only collects data from the configured namespaces.</p><p>For timeout errors, you can adjust the value of the <a href="/v1.4/advanced/index#support-bundle-timeout">support-bundle-timeout</a> setting and then restart the support bundle generation process.</p><p>If you intend to use a non-default container image, you can configure the <a href="/v1.4/advanced/index#support-bundle-image">support-bundle-image</a> setting.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="manually-download-and-retain-a-support-bundle-file">Manually Download and Retain a Support Bundle File<a href="#manually-download-and-retain-a-support-bundle-file" class="hash-link" aria-label="Direct link to Manually Download and Retain a Support Bundle File" title="Direct link to Manually Download and Retain a Support Bundle File">​</a></h3><p>By default, a support bundle file is automatically generated, downloaded, and deleted after you click <strong>Create</strong> on the Harvester UI. However, you may want to retain a file for various reasons, including the following:</p><ul><li><p>You are unable to download the file because of network connectivity errors and other issues.</p></li><li><p>You must use a previously generated file to troubleshoot issues (because generating a support bundle file takes time).</p></li><li><p>You want to view information that only exists in a previously generated file.</p></li></ul><p>Even if the file remains in the cluster, the Harvester UI does not provide a download link. Use the following workaround to generate, manually download, and retain a support bundle file:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generate-the-file-and-prevent-automatic-downloading">Generate the File and Prevent Automatic Downloading<a href="#generate-the-file-and-prevent-automatic-downloading" class="hash-link" aria-label="Direct link to Generate the File and Prevent Automatic Downloading" title="Direct link to Generate the File and Prevent Automatic Downloading">​</a></h4><ol><li><p>On the Harvester UI, click <strong>Generate Support Bundle</strong>.</p></li><li><p>When the progress indicator reaches 20% to 80%, close the browser tab to prevent automatic downloading of the generated file.</p></li><li><p>Retrieve a list of all support bundles in all namespaces using kubectl.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get supportbundle -A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAMESPACE          NAME           ISSUE_URL   DESCRIPTION   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">harvester-system   bundle-htl5f               sp1           3h43m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Retrieve the details of all existing support bundles using the command <code>kubectl get supportbundle -A -o yaml</code>.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get supportbundle -A -oyaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">items:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- apiVersion: harvesterhci.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  kind: SupportBundle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    creationTimestamp: &quot;2024-02-02T11:18:09Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    generation: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: bundle-htl5f  // resource name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace: harvester-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resourceVersion: &quot;1218311&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uid: a3776373-05fe-4584-8a9a-baac3fa91bbf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: sp1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    issueURL: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conditions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - lastUpdateTime: &quot;2024-02-02T11:18:38Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      status: &quot;True&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: Initialized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filename: supportbundle_db25ccb6-b52a-4f9d-97dd-db2df2b004d4_2024-02-02T11-18-10Z.zip  // support bundle file name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filesize: 8868712</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    progress: 100  // 100 means successfully generated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state: ready</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><p>The file is ready for downloading when the value of <code>progress</code> is &quot;100&quot; and the value of <code>state</code> is &quot;ready&quot;.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="download-the-file">Download the File<a href="#download-the-file" class="hash-link" aria-label="Direct link to Download the File" title="Direct link to Download the File">​</a></h4><ol><li><p>Create a download URL that includes the following information:</p><ul><li><a href="/v1.4/install/management-address">VIP</a> or DNS name</li><li>Resource name of the file</li><li>Parameter <code>?retain=true</code>: If you do not include this parameter, resources related to the support bundle are automatically deleted after the file is successfully downloaded.</li></ul><p>Example:</p><p><code>https://{vip/dns-name}/v1/harvester/supportbundles/bundle-htl5f/download?retain=true</code></p></li><li><p>Download the file using either a command-line tool (for example, curl and wget) or a web browser.</p><p>Example:</p><p><code>curl -k https://{vip/dns-name}/v1/harvester/supportbundles/bundle-htl5f/download?retain=true -o sb2.zip</code></p></li><li><p>Verify that resources related to the support bundle were not deleted.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get supportbundle -A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAMESPACE          NAME           ISSUE_URL   DESCRIPTION   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">harvester-system   bundle-htl5f               sp1           3h43m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optional-delete-the-related-resources">(Optional) Delete the Related Resources<a href="#optional-delete-the-related-resources" class="hash-link" aria-label="Direct link to (Optional) Delete the Related Resources" title="Direct link to (Optional) Delete the Related Resources">​</a></h4><p>Retained support bundle files consume memory and storage resources. Each file is backed by a <code>supportbundle-manager-bundle*</code> pod in the <code>harvester-system</code> namespace, and the generated ZIP file is stored in the <code>/tmp</code> folder of the pod&#x27;s memory-based filesystem.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get pods -n harvester-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                    READY   STATUS    RESTARTS       AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">supportbundle-manager-bundle-dtl2k-69dcc69b59-w64vl     1/1     Running   0              8m18s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can delete the related resources using the following methods:</p><ul><li><p>Manual: Run the command <code>kubectl delete supportbundle -n {namespace} {resource-name}</code>. Deleting a support bundle object automatically deletes the pod that backs it.</p><p>  Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl delete supportbundle -n harvester-system bundle-htl5f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">supportbundle.harvesterhci.io &quot;bundle-htl5f&quot; deleted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get supportbundle -A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No resources found</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Automatic: Harvester deletes the related resources based on how the following settings are configured:</p><ul><li><p><a href="/v1.4/advanced/index#support-bundle-expiration">support-bundle-expiration</a>: Defines the time allowed for retaining a support bundle file</p></li><li><p><a href="/v1.4/advanced/index#support-bundle-timeout">support-bundle-timeout</a>: Defines the time allowed for generating a support bundle file</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="manually-copy-the-support-bundle-file">Manually Copy the Support Bundle File<a href="#manually-copy-the-support-bundle-file" class="hash-link" aria-label="Direct link to Manually Copy the Support Bundle File" title="Direct link to Manually Copy the Support Bundle File">​</a></h3><p>You can run the command <code>kubectl cp</code> to copy the generated file from the backing pod.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl cp harvester-system/supportbundle-manager-bundle-dtl2k-69dcc69b59-w64vl:/tmp/support-bundle-kit/supportbundle_db25ccb6-b52a-4f9d-97dd-db2df2b004d4_2024-02-02T11-18-10Z.zip bundle.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="known-limitations">Known Limitations<a href="#known-limitations" class="hash-link" aria-label="Direct link to Known Limitations" title="Direct link to Known Limitations">​</a></h3><ul><li><p>Replacing the backing pod prevents the support bundle file from being downloaded.</p><p>  The support bundle file is stored in the <code>/tmp</code> folder of the pod&#x27;s memory-based filesystem so it is removed when the pod is replaced during cluster and node rebooting, Kubernetes pod rescheduling, and other processes. After starting, the new pod regenerates the file but assigns a name that is different from the file name in the support bundle object.</p><p>  Example:</p><ol><li><p>A support bundle file is generated and retained.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get supportbundle -A -oyaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">items:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- apiVersion: harvesterhci.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  kind: SupportBundle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    creationTimestamp: &quot;2024-02-06T11:01:19Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    generation: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: bundle-yr2vq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace: harvester-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resourceVersion: &quot;1583252&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uid: eb8538cf-886b-4791-a7b0-dbc34dcee524</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: sp2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    issueURL: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conditions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - lastUpdateTime: &quot;2024-02-06T11:01:47Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      status: &quot;True&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: Initialized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filename: supportbundle_db25ccb6-b52a-4f9d-97dd-db2df2b004d4_2024-02-06T11-01-20Z.zip // file is ready to download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filesize: 7832010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    progress: 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state: ready</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resourceVersion: &quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>The backing pod restarts.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get pods -n harvester-system supportbundle-manager-bundle-yr2vq-c5484fbdf-9pz8d -oyaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app: support-bundle-manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pod-template-hash: c5484fbdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rancher/supportbundle: bundle-yr2vq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: supportbundle-manager-bundle-yr2vq-c5484fbdf-9pz8d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: harvester-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  containerStatuses:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - containerID: containerd://ea82b63875c18a2b5b36afea6a47a99a5efd26464f94d401cde1727d175ef740</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ready: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    restartCount: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    started: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      running:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        startedAt: &quot;2024-02-06T11:05:33Z&quot; // pod&#x27;s latest starting timestamp, newer than the timestamp in support bundle&#x27;s file name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>The backing pod regenerates the file after it starts.</p><p>The name of the regenerated file is different from the file name recorded in the support bundle object.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl exec -i -t -n harvester-system supportbundle-manager-bundle-yr2vq-c5484fbdf-9pz8d -- ls /tmp/support-bundle-kit -alth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 2.2M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x 3 root root 4.0K Feb  6 11:05 .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 2.2M Feb  6 11:05 supportbundle_db25ccb6-b52a-4f9d-97dd-db2df2b004d4_2024-02-06T11-05-34Z.zip // different with above file name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Attempts to download the regenerated file fail.</p><p> The following download URL cannot be used to access the regenerated file.</p><p><code>https://{vip/dns-name}/v1/harvester/supportbundles/bundle-yr2vq/download?retain=true</code>.</p></li></ol></li><li><p>Retained support bundle files may affect system and node rebooting, node draining, and system upgrades.</p><p> Retained support bundle files are backed by pods in the <code>harvester-system</code> namespace. These pods are replaced during system and node rebooting, node draining, and system upgrades, consuming CPU and memory resources. Moreover, the regenerated files are very similar in content to the retained files, which means that storage resources are also unnecessarily consumed.</p></li></ul><p>For more information, see <a href="https://github.com/harvester/harvester/issues/3383" target="_blank" rel="noopener noreferrer">Issue 3383</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-embedded-rancher-and-longhorn-dashboards">Access Embedded Rancher and Longhorn Dashboards<a href="#access-embedded-rancher-and-longhorn-dashboards" class="hash-link" aria-label="Direct link to Access Embedded Rancher and Longhorn Dashboards" title="Direct link to Access Embedded Rancher and Longhorn Dashboards">​</a></h2><p><em>Available as of v1.1.0</em></p><p>You can now access the embedded Rancher and Longhorn dashboards directly on the <code>Support</code> page, but you must first go to the <code>Preferences</code> page and check the <code>Enable Extension developer features</code> box under <code>Advanced Features</code>.</p><p><img loading="lazy" src="/assets/images/support-access-embedded-ui-db8c2edddf3a26facf679c28492cb3e1.png" width="3308" height="1462" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>We only support using the embedded Rancher and Longhorn dashboards for debugging and validation purposes.
For Rancher&#x27;s multi-cluster and multi-tenant integration, please refer to the docs <a href="/v1.4/rancher/rancher-integration">here</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-cant-access-harvester-after-i-changed-ssltls-enabled-protocols-and-ciphers">I can&#x27;t access Harvester after I changed SSL/TLS enabled protocols and ciphers<a href="#i-cant-access-harvester-after-i-changed-ssltls-enabled-protocols-and-ciphers" class="hash-link" aria-label="Direct link to I can&#x27;t access Harvester after I changed SSL/TLS enabled protocols and ciphers" title="Direct link to I can&#x27;t access Harvester after I changed SSL/TLS enabled protocols and ciphers">​</a></h2><p>If you changed
<a href="/v1.4/advanced/index#ssl-parameters">SSL/TLS enabled protocols and ciphers settings</a>
and you no longer have access to Harvester GUI and API,
it&#x27;s highly possible that NGINX Ingress Controller has stopped working due to the misconfigured SSL/TLS protocols and ciphers.
Follow these steps to reset the setting:</p><ol><li>Following <a href="/v1.4/faq">FAQ</a> to SSH into Harvester node and switch to <code>root</code> user.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo -s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Editing setting <code>ssl-parameters</code> manually using <code>kubectl</code>:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># kubectl edit settings ssl-parameters</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Deleting the line <code>value: ...</code> so that NGINX Ingress Controller
will use the default protocols and ciphers.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: harvesterhci.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default: &#x27;{}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Setting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: ssl-parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value: &#x27;{&quot;protocols&quot;:&quot;TLS99&quot;,&quot;ciphers&quot;:&quot;WRONG_CIPHER&quot;}&#x27; # &lt;- Delete this line</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Save the change and you should see the following response after exit from the editor:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setting.harvesterhci.io/ssl-parameters edited</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can further check the logs of Pod <code>rke2-ingress-nginx-controller</code> to see if NGINX Ingress Controller is working correctly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-interfaces-are-not-showing-up">Network interfaces are not showing up<a href="#network-interfaces-are-not-showing-up" class="hash-link" aria-label="Direct link to Network interfaces are not showing up" title="Direct link to Network interfaces are not showing up">​</a></h2><p>You may need help finding the correct interface with a 10G uplink since the interface is not showing up. The uplink doesn&#x27;t show up when the ixgbe module fails to load because an unsupported SFP+ module type is detected.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-identify-the-issue-with-the-unsupported-sfp">How to identify the issue with the unsupported SFP?<a href="#how-to-identify-the-issue-with-the-unsupported-sfp" class="hash-link" aria-label="Direct link to How to identify the issue with the unsupported SFP?" title="Direct link to How to identify the issue with the unsupported SFP?">​</a></h4><p>Execute the command <code>lspci | grep -i net</code> to see the number of NIC ports connected to the motherboard. By running the command <code>ip a</code>, you can gather information about the detected interfaces. If the number of detected interfaces is less than the number of identified NIC ports, then it&#x27;s likely that the problem arises from using an unsupported SFP+ module.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h5><p>You can perform a simple test to verify whether the unsupported SFP+ is the cause. Follow these steps on a running node:</p><ol><li>Create the file <code>/etc/modprobe.d/ixgbe.conf</code> manually with the content:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">options ixgbe allow_unsupported_sfp=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>Then run following command:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rmmod ixgbe &amp;&amp; modprobe ixgbe</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the above steps are successful and the missing interface shows, we can confirm that the issue is an unsupported SFP+. However, the above test is not permanent and will be flushed out once rebooted.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="solution-1">Solution<a href="#solution-1" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">​</a></h4><p>Due to support issues, Intel restricts the types of SFPs used on their NICs. To make the above changes persistent, adding the following content to a <a href="/v1.4/install/harvester-configuration">config.yaml</a> during installation is recommended.</p><div class="language-YAML codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-YAML codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">os:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  write_files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - content: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     options ixgbe allow_unsupported_sfp=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path: /etc/modprobe.d/ixgbe.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - content: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &quot;reload ixgbe module&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      stages:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        boot:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - commands:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - rmmod ixgbe &amp;&amp; modprobe ixgbe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path: /oem/99_ixgbe.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/harvester/docs/edit/main/docs/troubleshooting/harvester.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-07-12T10:44:32.000Z">Jul 12, 2024</time></b></span></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/v1.4/troubleshooting/index"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v1.4/troubleshooting/os"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Operating System</div></a></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fail-to-deploy-a-multi-node-cluster-due-to-incorrect-http-proxy-setting" class="table-of-contents__link toc-highlight">Fail to Deploy a Multi-node Cluster Due to Incorrect HTTP Proxy Setting</a><ul><li><a href="#iso-installation-without-a-harvester-configuration-file" class="table-of-contents__link toc-highlight">ISO Installation Without a Harvester Configuration File</a></li><li><a href="#iso-installation-with-a-harvester-configuration-file" class="table-of-contents__link toc-highlight">ISO Installation With a Harvester Configuration File</a></li><li><a href="#pxe-boot-installation" class="table-of-contents__link toc-highlight">PXE Boot Installation</a></li></ul></li><li><a href="#generate-a-support-bundle" class="table-of-contents__link toc-highlight">Generate a Support Bundle</a><ul><li><a href="#manually-download-and-retain-a-support-bundle-file" class="table-of-contents__link toc-highlight">Manually Download and Retain a Support Bundle File</a></li><li><a href="#manually-copy-the-support-bundle-file" class="table-of-contents__link toc-highlight">Manually Copy the Support Bundle File</a></li><li><a href="#known-limitations" class="table-of-contents__link toc-highlight">Known Limitations</a></li></ul></li><li><a href="#access-embedded-rancher-and-longhorn-dashboards" class="table-of-contents__link toc-highlight">Access Embedded Rancher and Longhorn Dashboards</a></li><li><a href="#i-cant-access-harvester-after-i-changed-ssltls-enabled-protocols-and-ciphers" class="table-of-contents__link toc-highlight">I can&#39;t access Harvester after I changed SSL/TLS enabled protocols and ciphers</a></li><li><a href="#network-interfaces-are-not-showing-up" class="table-of-contents__link toc-highlight">Network interfaces are not showing up</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9d6f4b81.js"></script>
<script src="/assets/js/main.c864e231.js"></script>
</body>
</html>